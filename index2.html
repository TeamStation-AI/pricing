<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TeamStation IT Cost Estimator</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #0c1020;
            color: white;
            margin: 0;
            padding: 0;
            line-height: 1.6;
        }

        .container {
            max-width: 900px;
            margin: 40px auto;
            padding: 30px;
            background-color: #0c1020;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            border-radius: 12px;
        }

        h1 {
            text-align: center;
            font-size: 2.5rem;
            margin-bottom: 30px;
            color: white;
        }

        h2 {
            text-align: left;
            font-size: 1.75rem;
            margin-bottom: 20px;
            color: white;
        }

        .form-section {
            margin-bottom: 20px;
            padding: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            background-color: #0c1020;
            position: relative;
            display: flex; /* Use flexbox */
            flex-direction: column; /* Stack elements vertically */
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: white;
            text-align: left;
        }

        select,
        input[type="number"] {
            width: 100%;
            max-width: 300px;  /* Reduced width */
            padding: 12px 15px;
            margin-bottom: 15px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 6px;
            background-color: #0c1020;
            color: white;
            font-size: 1rem;
            transition: border-color 0.2s ease;
            box-sizing: border-box; /* Ensure padding doesn't affect width */
        }

        select:focus,
        input[type="number"]:focus {
            outline: none;
            border-color: #66b3ff;
            box-shadow: 0 0 8px rgba(102, 179, 255, 0.2);
        }

        /* Button Styles */
        button {
            display: block;
            width: 100%;
            max-width: 300px; /* Reduced width */
            padding: 14px 20px;
            background: #007BFF;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.2s ease;
            margin-top: 15px;
            font-weight: 500;
            text-align: center; /* Ensure text is centered */
            box-sizing: border-box;
        }

        button:hover {
            background: #0056b3;
            transform: translateY(-2px);
        }

        #add-role {
            background: #28a745;
        }

        #add-role:hover {
            background: #1e7e34;
        }

        .remove-role {
            background: #dc3545;
            margin-top: 5px;
            width: auto;
            padding: 8px 12px;
            display: inline-block;
            position: absolute; /* Position the button */
            top: 10px;
            right: 10px;
            box-sizing: border-box;
        }

        .remove-role:hover {
            background: #c82333;
        }

        /* Result Styles */
        .result {
            margin-top: 30px;
            font-size: 1.1rem; /* Slightly smaller font */
            font-weight: 600;
            text-align: left; /* Align text to the left */
            color: #90EE90;
            line-height: 1.4; /* Improve readability */
            word-break: break-word; /* Prevent long words from overflowing */
            box-sizing: border-box;
        }

        .reset-button {
            background-color: #6c757d;
            color: white;
            border: none;
            padding: 14px 20px;
            border-radius: 8px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.2s ease;
            margin-top: 15px;
            font-weight: 500;
            display: block;
            width: 100%;
            max-width: 300px; /* Reduced width */
            text-align: center;
            box-sizing: border-box;
        }

        .reset-button:hover {
            background-color: #5a6268;
            transform: translateY(-2px);
        }

        /* Flexbox for centering elements */
        form {
            display: flex;
            flex-direction: column;
            align-items: center; /* Center items horizontally */
            box-sizing: border-box;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Nearshore Team Pricing Calculator</h1>
        <form id="pricing-form">
            <h2>Build Your IT Team</h2>
            <div id="team-roles">
                <!-- Initial Role Template -->
                <div class="form-section" data-role-id="1">
                    <label for="role-1">Role:</label>
                    <select id="role-1" name="roles" required>
                        <option value="">-- Select a Role --</option>
                        <option value="aiprompt">AI Prompt Engineer</option>
                        <option value="architect">Software Architect</option>
                        <option value="backend">Back-End Developer</option>
                        <option value="bi">Business Intelligence</option>
                        <option value="businessanalyst">Business Analyst</option>
                        <option value="cloudengineer">Cloud Engineer</option>
                        <option value="crossplatform">Cross-Platform Designer</option>
                        <option value="dataengineer">Data Engineer</option>
                        <option value="datascientist">Data Scientist</option>
                        <option value="datatester">Data Tester</option>
                        <option value="dba">DBA Engineer</option>
                        <option value="devops">DevOps Engineer</option>
                        <option value="devsec">DevSec Engineer</option>
                        <option value="ecommerce">eCommerce Certified Specialist</option>
                        <option value="evangelist">DevOps Evangelist</option>
                        <option value="experienceassurance">Experience Assurance Engineer</option>
                        <option value="frontend">Front-End Developer</option>
                        <option value="fullstack">Full-Stack Developer</option>
                        <option value="ml">Machine Learning Engineer</option>
                        <option value="mobilearch">Mobile Architect</option>
                        <option value="mobileengineer">Mobile Engineer</option>
                        <option value="mobiletester">Mobile Tester</option>
                        <option value="productdesigner">Product Designer</option>
                        <option value="productmanager">Product Manager</option>
                        <option value="productowner">Product Owner</option>
                        <option value="qa">QA Automation Engineer</option>
                        <option value="qalead">QA Lead</option>
                        <option value="qamanual">QA Manual Tester</option>
                        <option value="releasemanager">Release Manager</option>
                        <option value="salesforce">Salesforce Architect</option>
                        <option value="scrummaster">Scrum Master</option>
                        <option value="sdet">SDET</option>
                        <option value="techlead">Technical Lead</option>
                        <option value="testlead">Test Lead</option>
                        <option value="usabilitytester">Usability Test Engineer</option>
                        <option value="uxdesigner">UX Designer</option>
                        <option value="utilitytech">Utility Technology Partner</option>
                    </select>

                    <label for="level-1">Seniority:</label>
                    <select id="level-1" name="levels" required>
                        <option value="proficient">Proficient</option>
                        <option value="mid">Mid-Level</option>
                        <option value="senior">Senior</option>
                        <option value="expert">Expert Certified</option>
                    </select>

                    <label for="count-1">Number of Team Members:</label>
                    <input type="number" id="count-1" name="counts" value="1" min="1" required style="max-width: 300px; box-sizing: border-box;">

                    <button type="button" class="remove-role" onclick="removeRole(this)">Remove</button>
                </div>
            </div>
            <button type="button" id="add-role">Add Another Role</button>
            <button type="submit">Calculate Total Estimated Monthly Cost</button>
            <button type="button" class="reset-button" onclick="resetCalculator()">Reset Application</button>
        </form>

        <div id="result" class="result"></div>
    </div>

    <script>
        const hourlyRates = {
            aiprompt: { proficient: 25, mid: 35, senior: 40, expert: 55 },
            architect: { proficient: 20, mid: 30, senior: 40, expert: 50 },
            backend: { proficient: 20, mid: 30, senior: 40, expert: 50 },
            bi: { proficient: 20, mid: 30, senior: 40, expert: 50 },
            businessanalyst: { proficient: 20, mid: 30, senior: 40, expert: 50 },
            cloudengineer: { proficient: 20, mid: 30, senior: 40, expert: 50 },
            crossplatform: { proficient: 20, mid: 30, senior: 40, expert: 50 },
            dataengineer: { proficient: 25, mid: 35, senior: 40, expert: 55 },
            datascientist: { proficient: 25, mid: 35, senior: 40, expert: 55 },
            datatester: { proficient: 20, mid: 30, senior: 40, expert: 50 },
            dba: { proficient: 20, mid: 30, senior: 40, expert: 50 },
            devops: { proficient: 20, mid: 30, senior: 40, expert: 50 },
            devsec: { proficient: 20, mid: 30, senior: 40, expert: 50 },
            ecommerce: { proficient: 25, mid: 35, senior: 40, expert: 55 },
            evangelist: { proficient: 20, mid: 30, senior: 40, expert: 50 },
            experienceassurance: { proficient: 20, mid: 30, senior: 40, expert: 50 },
            frontend: { proficient: 20, mid: 30, senior: 40, expert: 50 },
            fullstack: { proficient: 20, mid: 30, senior: 40, expert: 50 },
            ml: { proficient: 25, mid: 35, senior: 40, expert: 55 },
            mobilearch: { proficient: 20, mid: 30, senior: 40, expert: 50 },
            mobileengineer: { proficient: 20, mid: 30, senior: 40, expert: 50 },
            mobiletester: { proficient: 20, mid: 30, senior: 40, expert: 50 },
            productdesigner: { proficient: 20, mid: 30, senior: 40, expert: 50 },
            productmanager: { proficient: 20, mid: 30, senior: 40, expert: 50 },
            productowner: { proficient: 20, mid: 30, senior: 40, expert: 50 },
            qa: { proficient: 20, mid: 30, senior: 40, expert: 50 },
            qalead: { proficient: 20, mid: 30, senior: 40, expert: 50 },
            qamanual: { proficient: 20, mid: 30, senior: 40, expert: 50 },
            releasemanager: { proficient: 20, mid: 30, senior: 40, expert: 50 },
            salesforce: { proficient: 25, mid: 35, senior: 40, expert: 55 },
            scrummaster: { proficient: 20, mid: 30, senior: 40, expert: 50 },
            sdet: { proficient: 20, mid: 30, senior: 40, expert: 50 },
            techlead: { proficient: 20, mid: 30, senior: 40, expert: 50 },
            testlead: { proficient: 20, mid: 30, senior: 40, expert: 50 },
            usabilitytester: { proficient: 20, mid: 30, senior: 40, expert: 50 },
            uxdesigner: { proficient: 20, mid: 30, senior: 40, expert: 50 },
            utilitytech: { proficient: 20, mid: 30, senior: 40, expert: 50 },
        };

        let roleCounter = 1; // Track the number of roles

        document.getElementById('add-role').addEventListener('click', function () {
            roleCounter++;
            const teamRoles = document.getElementById('team-roles');

            // Create the new role section
            const roleSection = document.createElement('div');
            roleSection.className = 'form-section';
            roleSection.dataset.roleId = roleCounter; // Store a unique ID

            roleSection.innerHTML = `
                <label for="role-${roleCounter}">Role:</label>
                <select id="role-${roleCounter}" name="roles" required>
                    <option value="">-- Select a Role --</option>
                    <option value="aiprompt">AI Prompt Engineer</option>
                    <option value="architect">Software Architect</option>
                    <option value="backend">Back-End Developer</option>
                    <option value="bi">Business Intelligence</option>
                    <option value="businessanalyst">Business Analyst</option>
                    <option value="cloudengineer">Cloud Engineer</option>
                    <option value="crossplatform">Cross-Platform Designer</option>
                    <option value="dataengineer">Data Engineer</option>
                    <option value="datascientist">Data Scientist</option>
                    <option value="datatester">Data Tester</option>
                    <option value="dba">DBA Engineer</option>
                    <option value="devops">DevOps Engineer</option>
                    <option value="devsec">DevSec Engineer</option>
                    <option value="ecommerce">eCommerce Certified Specialist</option>
                    <option value="evangelist">DevOps Evangelist</option>
                    <option value="experienceassurance">Experience Assurance Engineer</option>
                    <option value="frontend">Front-End Developer</option>
                    <option value="fullstack">Full-Stack Developer</option>
                    <option value="ml">Machine Learning Engineer</option>
                    <option value="mobilearch">Mobile Architect</option>
                    <option value="mobileengineer">Mobile Engineer</option>
                    <option value="mobiletester">Mobile Tester</option>
                    <option value="productdesigner">Product Designer</option>
                    <option value="productmanager">Product Manager</option>
                    <option value="productowner">Product Owner</option>
                    <option value="qa">QA Automation Engineer</option>
                    <option value="qalead">QA Lead</option>
                    <option value="qamanual">QA Manual Tester</option>
                    <option value="releasemanager">Release Manager</option>
                    <option value="salesforce">Salesforce Architect</option>
                    <option value="scrummaster">Scrum Master</option>
                    <option value="sdet">SDET</option>
                    <option value="techlead">Technical Lead</option>
                    <option value="testlead">Test Lead</option>
                    <option value="usabilitytester">Usability Test Engineer</option>
                    <option value="uxdesigner">UX Designer</option>
                    <option value="utilitytech">Utility Technology Partner</option>
                </select>

                <label for="level-${roleCounter}">Seniority:</label>
                <select id="level-${roleCounter}" name="levels" required>
                    <option value="proficient">Proficient</option>
                    <option value="mid">Mid-Level</option>
                    <option value="senior">Senior</option>
                    <option value="expert">Expert Certified</option>
                </select>

                <label for="count-${roleCounter}">Number of Team Members:</label>
                <input type="number" id="count-${roleCounter}" name="counts" value="1" min="1" required style="max-width: 300px; box-sizing: border-box;">

                <button type="button" class="remove-role" onclick="removeRole(this)">Remove</button>
            `;

            teamRoles.appendChild(roleSection);
        });

        function removeRole(element) {
            const roleSection = element.closest('.form-section');
            roleSection.remove();
        }

        function resetCalculator() {
            const teamRoles = document.getElementById('team-roles');
            // Remove all dynamically added role sections
            while (teamRoles.children.length > 1) {
                teamRoles.removeChild(teamRoles.lastChild);
            }

            // Reset the first role section to its default values
            const firstRole = document.querySelector('.form-section'); // Target the correct role
            firstRole.querySelector('[name="roles"]').selectedIndex = 0;
            firstRole.querySelector('[name="levels"]').selectedIndex = 0;
            firstRole.querySelector('[name="counts"]').value = 1;

            // Clear the result
            document.getElementById('result').textContent = '';
        }

        document.getElementById('pricing-form').addEventListener('submit', function (event) {
            event.preventDefault();

            let totalCostMin = 0;
            let totalCostMax = 0;
            let totalResources = 0;
            const deviation = 5;
            const roles = document.querySelectorAll('[name="roles"]'); // Select all role selects
            const levels = document.querySelectorAll('[name="levels"]'); // Select all level selects
            const counts = document.querySelectorAll('[name="counts"]'); // Select all count inputs

            let resultText = ""; // Build up the result string

            for (let i = 0; i < roles.length; i++) {
                const roleElement = roles[i];
                const levelElement = levels[i];
                const countElement = counts[i];

                const role = roleElement.value;
                const level = levelElement.value;
                const count = parseInt(countElement.value, 10);

                if (hourlyRates[role] && hourlyRates[role][level]) {
                    const baseRate = hourlyRates[role][level];
                    const minRate = baseRate - deviation;
                    const maxRate = baseRate + deviation;
                    const minMonthlyCost = minRate * 173 * count;
                    const maxMonthlyCost = maxRate * 173 * count;

                    totalCostMin += minMonthlyCost;
                    totalCostMax += maxMonthlyCost;
                    totalResources += count;

                     // Get the seniority level text
                    const levelText = levelElement.options[levelElement.selectedIndex].text;

                    resultText += `
                        ${count} x ${levelText} ${roleElement.options[roleElement.selectedIndex].text}:
                        <ul>
                            <li>Avg. Hourly Rate: $${baseRate}</li>
                            <li>Deviation: ± $${deviation}</li>
                            <li>Estimated Monthly Cost: $${minMonthlyCost.toLocaleString(undefined, {minimumFractionDigits: 0, maximumFractionDigits: 0})} - $${maxMonthlyCost.toLocaleString(undefined, {minimumFractionDigits: 0, maximumFractionDigits: 0})}</li>
                        </ul>
                        <br>
                    `;
                }
            }

            const formattedTotalCostMin = totalCostMin.toLocaleString(undefined, {
                minimumFractionDigits: 0,
                maximumFractionDigits: 0
            });
            const formattedTotalCostMax = totalCostMax.toLocaleString(undefined, {
                minimumFractionDigits: 0,
                maximumFractionDigits: 0
            });

            resultText += `<br>Total Estimated Monthly Cost: $${formattedTotalCostMin} - $${formattedTotalCostMax} | Total Team Members: ${totalResources}`;

            document.getElementById('result').innerHTML = resultText; // Use innerHTML to render HTML
        });
    </script>
</body>
</html>
